# 학급 연락처 관리 정적 웹앱

담임 교사가 학생/학부모 연락처를 한눈에 조회하고, 빠르게 전화/문자를 보낼 수 있도록 만든 **순수 HTML/CSS/JS 기반 정적 웹앱**입니다.

## iPhone 16 Pro 최적화 포인트

- iOS Safari 기준 `viewport-fit=cover` 및 안전 영역(`safe-area`) 반영
- 화면 폭 기준 `430px` 모바일 레이아웃 최적화
- 터치 버튼 최소 높이 `44~48px`로 조작성 강화
- 상단 헤더 sticky 고정 + 하단 모달 버튼 고정으로 한손 사용 개선

## 파일 구성

- `index.html`: 앱 UI 구조 (검색/필터/카드/상세 모달)
- `styles.css`: iPhone 16 Pro 중심 모바일 레이아웃/터치 UI 스타일
- `app.js`: 데이터 렌더링, 검색/필터, CSV 가져오기, 상세 표시 로직
- `.gitignore`: 로컬 실행 시 불필요 파일 제외

## 주요 기능

1. **카드형 첫 페이지 목록**
   - 학생명
   - 반/번호
   - 연락처(학생 전화번호)

2. **직관적인 연락 버튼**
   - 카드의 `전화/문자` 버튼은 **학생 전화번호(`studentPhone`)** 연결
   - 카드 클릭 후 상세 모달에서 **보호자 1 / 보호자 2 전화·문자 버튼** 제공

3. **태그 통합 관리**
   - 메인 화면에서 **태그 필터(사용 학생 수 표시)**로 학생 목록 필터링
   - 상세 모달에서 태그를 **직접 추가/삭제/이름 변경** 가능
   - 태그 입력 시 공백 정리 및 중복 방지
   - 태그 변경 결과가 메인 필터에 즉시 반영

4. **상세 패널(모달)**
   - 학생 전화
   - 주소
   - 보호자 1/2 전화·문자 버튼
   - 태그 편집(생성/삭제/이름 변경)
   - 최하단 메모 입력 영역(자유 텍스트)
   - 학생 삭제 버튼(확인 후 삭제)

5. **학생 추가/삭제 UI (CSV와 공존)**
   - 메인 화면 `학생 추가` 버튼으로 직접 등록 가능
   - 이름/반/번호 필수 검증, 중복(`반+번호`) 방지
   - 연락 가능한 번호 최소 1개(학생/보호자) 검증
   - 삭제 시 확인창 + 8초 내 `삭제 취소(Undo)` 지원

6. **검색 및 필터**
   - 상단 검색: 이름/번호/메모/태그 기준
   - 초성 검색 지원 (예: `ㄱㅁㅈ` → `김민준`)
   - 유사어 검색 지원 (예: 학부모/보호자, 상담/면담)
   - 검색어 하이라이트 표시
   - 반 필터
   - 태그 필터

7. **CSV 가져오기 (헤더 포함)**
   - CSV 업로드 시 전체 데이터 교체
   - 필수 헤더 검증
   - 따옴표(`"`)로 감싼 CSV 필드(쉼표/줄바꿈 포함) 파싱 지원

8. **CSV 내보내기**
   - 현재 웹앱에 저장된 학생 데이터를 CSV로 즉시 다운로드

9. **브라우저 자동 저장(영구 보존)**
   - 불러온 CSV와 모달에서 수정한 메모/태그를 `localStorage`에 자동 저장
   - 웹앱을 종료했다 다시 열어도 같은 브라우저/기기에서는 데이터 유지


## 운영 권장 워크플로

- 초기 대량 입력: CSV 가져오기
- 일상 운영: 학생 추가/삭제 UI, 태그/메모 편집
- 주기적 백업: CSV 내보내기

> 즉, CSV 체제를 대체하지 않고 **CSV + UI 혼합 방식**으로 운영합니다.

## CSV 형식

필수 헤더:

- `name`
- `className`
- `number`

권장 헤더:

- `studentPhone` (카드의 전화/문자 버튼 연결 대상)
- `guardian1Name`
- `guardian1Phone`
- `guardian2Name`
- `guardian2Phone`

추가 선택 헤더:

- `address`
- `note`
- `tags` (`|` 구분)

> 하위 호환: 기존 `guardianName`, `primaryPhone` 헤더도 읽습니다. 이 경우 `guardian1Name`, `guardian1Phone`으로 자동 매핑됩니다.

예시:

```csv
name,className,number,studentPhone,guardian1Name,guardian1Phone,guardian2Name,guardian2Phone,address,note,tags
김민준,2반,13,010-2233-1122,김지연,010-1234-5678,김정우,010-9988-7766,서울시 강동구...,방과후 16시 이후 연락,방과후|상담필요
```
샘플 파일: `sample_contacts.csv`를 그대로 업로드해 동작을 바로 확인할 수 있습니다.
내보내기 버튼(`CSV 내보내기`)으로 현재 데이터 상태를 다시 CSV로 백업할 수 있습니다.

## 실행 방법

정적 파일이므로 아래 중 하나로 실행 가능합니다.

- 브라우저에서 `index.html` 직접 열기
- 또는 간단한 로컬 서버 실행

```bash
python3 -m http.server 8000
```
> 참고: 저장 데이터는 브라우저 `localStorage`에 저장됩니다. 브라우저 캐시/사이트 데이터 삭제 시 함께 사라질 수 있습니다.

## 개인정보 유출 방지 안내

이 앱은 연락처/주소/메모 등 **개인정보를 직접 표시**하므로 아래 수칙을 반드시 지켜주세요.

1. 공용 PC·공용 계정에서 사용하지 마세요.
2. CSV 원본 파일은 암호화된 저장소(또는 학교 보안 정책 준수 저장소)에 보관하세요.
3. Git 저장소에 실제 학생 개인정보가 포함된 CSV를 커밋하지 마세요.
4. 화면 공유/프로젝터 사용 시 개인정보가 노출되지 않게 주의하세요.
5. 사용 후 브라우저 탭과 다운로드 파일, 임시 파일을 정리하세요.
6. 학교 및 기관의 개인정보보호 지침(예: 보존기간, 파기 절차)을 준수하세요.

> 권장: 운영 시에는 실데이터 대신 식별자 마스킹(예: 010-****-1234) 또는 내부망 전용 배포를 검토하세요.
